(this.webpackJsonpcodificantes=this.webpackJsonpcodificantes||[]).push([[0],{184:function(e,t,n){},185:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(46),s=n.n(c),i=(n(184),n(185),n(26)),o=n(8),u=(n(186),n(292)),j=n(293),l=n(294),d=n(62),b=n(276),x=n(277),h=n(143),O=n.n(h),f=n(144),p=n.n(f),m=n(18),g=n(291),v=n(61),w=n(142),C=n.n(w),y=n(2);var T=function(e){var t=Object(m.f)();return Object(y.jsx)(g.a,{children:Object(y.jsx)(v.a,{endIcon:Object(y.jsx)(C.a,{}),onClick:function(){return t.push("/quiz")},variant:"contained",size:"large",sx:{bgcolor:"primary.light"},children:"Start Quiz"})})};var S=function(e){var t=Object(m.f)();return Object(y.jsxs)(g.a,{children:[Object(y.jsx)(v.a,{onClick:function(){return t.push("/new")},variant:"contained",size:"medium",sx:{bgcolor:"primary.light"},children:"Create New Card"}),Object(y.jsx)(v.a,{onClick:function(){return t.push("/all")},variant:"contained",size:"medium",sx:{bgcolor:"primary.light"},children:"Show All Cards"})]})},k=n(80),E=function(){return Object(k.b)()},q=k.c,I=n(43),z=n.n(I),N=n(79),A=n(34),Q=n(68),B=n.n(Q),U=Object(A.c)({name:"error",initialState:{error:!1,status:200,statusText:""},reducers:{closeError:function(e){e.error=!1,e.status=200,e.statusText=""},receiveError:function(e,t){e.error=!0,e.status=t.payload.status,e.statusText=t.payload.statusText}}}),L=function(e){return e.error.error},W=function(e){return e.error.statusText},R=U.actions,F=R.closeError,Z=R.receiveError,P=U.reducer,M=function(e){return B()({method:"post",url:"/auth/login",data:e,headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){return{data:"",status:e.response.status,statusText:e.response.data.message}}))},H=Object(A.b)("login",function(){var e=Object(N.a)(z.a.mark((function e(t,n){var a,r,c,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:return a=e.sent,r=a.data,c=a.status,s=a.statusText,200!==c&&n.dispatch(Z({status:c,statusText:s})),e.abrupt("return",{data:r,status:c,statusText:s});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),J=Object(A.c)({name:"login",initialState:{loggedIn:!1,token:""},reducers:{logout:function(e){localStorage.removeItem("codificantesToken"),e.loggedIn=!1}},extraReducers:function(e){e.addCase(H.pending,(function(e){})).addCase(H.fulfilled,(function(e,t){200===t.payload.status&&(e.loggedIn=!0,e.token=t.payload.data,localStorage.setItem("codificantesToken",t.payload.data))}))}}),D=J.actions.logout,G=function(e){return e.login.loggedIn},K=function(e){return e.login.token},Y=J.reducer;var $,V,X=function(e){var t=Object(m.f)(),n=E(),r=q(G),c=Object(a.useState)(!1),s=Object(o.a)(c,2),h=s[0],f=s[1],g=Object(a.useState)(window.innerWidth<900),v=Object(o.a)(g,2),w=v[0],C=v[1],k=function(){window.innerWidth<900&&!w&&C(!0),window.innerWidth>=900&&w&&C(!1)};return Object(a.useEffect)((function(){window.addEventListener("resize",k,!1)})),Object(y.jsx)(I,Object(i.a)(Object(i.a)({},e),{},{children:Object(y.jsxs)(u.a,{sx:{bgcolor:"primary.light"},children:[Object(y.jsxs)(j.a,{sx:{justifyContent:"space-between"},children:[Object(y.jsx)(l.a,{children:"Codificantes"}),Object(y.jsx)(d.a,{onClick:function(){return f(!h)},edge:"end",children:Object(y.jsx)(O.a,{})})]}),Object(y.jsxs)(j.a,{sx:{mb:1,alignItems:"stretch",justifyContent:"space-between"},children:[h?Object(y.jsx)(S,{}):Object(y.jsx)(T,{}),r&&Object(y.jsx)(d.a,{onClick:function(){n(D),t.push("/logout")},edge:"end",children:Object(y.jsx)(p.a,{})})]})]})}));function I(e){var t=e.children,n=Object(b.a)({});return Object(y.jsx)(x.a,{appear:!1,direction:"down",in:!w||!n,children:t})}},_=n(16),ee="/api/quiz",te=function(e){return B()({method:"get",url:"".concat(ee),headers:{Authorization:ae(e)}}).then((function(e){return e})).catch((function(e){return e}))},ne=function(e,t){return B()({method:"post",url:"".concat(ee),data:e,headers:{"Content-Type":"application/json",Authorization:ae(t)}}).then((function(e){return e})).catch((function(e){return e}))},ae=function(e){return"Bearer ".concat(e)},re=function(e){return{data:[],status:e.response.status,statusText:e.response.data.message}},ce=Object(A.b)("quiz/fetchQuizcards",function(){var e=Object(N.a)(z.a.mark((function e(t,n){var a,r,c,s,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getState().login.token,e.next=3,te(a);case 3:if(r=e.sent,c=r.data,s=r.status,i=r.statusText,200===s){e.next=10;break}return n.dispatch(Z(c)),e.abrupt("return",re(c));case 10:return e.abrupt("return",{data:c,status:s,statusText:i});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),se=Object(A.b)("quiz/vaildateAnswer",function(){var e=Object(N.a)(z.a.mark((function e(t,n){var a,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getState().login.token,e.next=3,ne(t,a);case 3:if(r=e.sent,c=r.data,200===r.status){e.next=9;break}return n.dispatch(Z(c)),e.abrupt("return",re(c));case 9:return e.abrupt("return",{data:c});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ie=Object(A.c)({name:"todoList",initialState:{allCards:[],answeredCards:[],status:200,message:"",error:!1,pointsCounter:0},reducers:{closeError:function(e){e.error=!1,e.status=200,e.message=""},moveCardToAnseweredCardsStack:function(e,t){e.answeredCards=[].concat(Object(_.a)(e.answeredCards),[t.payload])}},extraReducers:function(e){e.addCase(ce.pending,(function(e){})).addCase(ce.fulfilled,(function(e,t){e.allCards=t.payload.data})).addCase(se.fulfilled,(function(e,t){t.payload.data&&(e.pointsCounter+=1)}))}}),oe=function(e){return e.quiz.allCards},ue=function(e){return e.quiz.answeredCards},je=function(e){return e.quiz.pointsCounter},le=ie.actions,de=(le.closeError,le.moveCardToAnseweredCardsStack),be=ie.reducer,xe=n(283),he=n(301),Oe=n(287),fe=n(151),pe=n(297),me=n(279),ge=n(298),ve=n(302),we=n(226),Ce=n(285),ye=n(278),Te=n(83),Se=n(55);!function(e){e.RESULT="RESULT",e.QUIZ="QUIZ",e.ALL="ALL",e.NEW="NEW"}($||($={})),function(e){e.QUESTION="QUESTION",e.ANSWER="ANSWER",e.SELECT="SELECT"}(V||(V={}));var ke=function(e){var t=e.choices,n=e.mode,a=e.selectAnswer,r=e.selected,c=t.map((function(e,t){return Object(y.jsx)(Oe.a,{item:!0,xs:2,sm:1,children:Object(y.jsx)(l.a,{children:e})},t)})),s=t.map((function(e,t){return Object(y.jsx)(Oe.a,{item:!0,xs:2,sm:1,children:Object(y.jsx)(ve.a,{theme:Object(Se.a)({palette:{primary:{main:"rgb(0,0,0,0.87)"}}}),children:Object(y.jsx)(we.a,{control:Object(y.jsx)(Ce.a,{}),label:e,value:t,checked:r[0]===t})})},t)})),i=Object(y.jsx)(ye.a,{"aria-label":"Multiple Choice",name:"multiple-choice-answers",onChange:a,children:o(s)});return Object(y.jsx)(Te.a,{sx:{width:"100%"},component:"fieldset",children:n===$.QUIZ?i:o(c)});function o(e){return Object(y.jsx)(Oe.a,{item:!0,container:!0,spacing:2,columns:{xs:2},justifyContent:"space-between",children:e})}},Ee=n(295),qe=n(146),Ie=n.n(qe);var ze=function(e){var t=e.title,n=e.clickHandler;return Object(y.jsx)(Ee.a,{onClick:n,component:"h1",sx:{bgcolor:"background.paper"},avatar:Object(y.jsx)(Ie.a,{}),title:t&&"".concat(t,"?"),titleTypographyProps:{fontSize:26}})},Ne=n(296);var Ae=function(e){var t=e.disableButton,n=e.onButtonClick,a=e.buttonText,r=e.footerText;return Object(y.jsxs)(Ne.a,{sx:{position:"absolute",bottom:1,right:15},children:[Object(y.jsx)(l.a,{variant:"button",children:r}),Object(y.jsxs)(v.a,{disabled:t,variant:"text",onClick:n,children:[a," "]})]})},Qe=["bottom","position"];function Be(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{height:{xs:500,sm:e?500:345},width:{xs:345,sm:500},borderRadius:10,position:"relative"}}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={position:"absolute",bottom:50,width:"100%",bgcolor:"primary.main",color:"primary.contrastText"},n=Object(i.a)({},t),a=(n.bottom,n.position,Object(fe.a)(n,Qe));return"QUESTION"===e?a:t}var Le=function(e){var t=e.card,n=e.mode,r=E(),c=Object(a.useState)([]),s=Object(o.a)(c,2),i=s[0],u=s[1],j=t.id,l=t.question,d=t.choices;return Object(y.jsxs)(pe.a,{sx:Be(),children:[Object(y.jsx)(ze,{title:l}),Object(y.jsx)(me.a,{}),Object(y.jsx)(ge.a,{sx:Ue(),children:Object(y.jsx)(ke,{choices:d,mode:n,selectAnswer:function(e){u([+e.target.value])},selected:i})}),n===$.QUIZ&&Object(y.jsx)(Ae,{disableButton:!1,onButtonClick:function(){r(se({id:j,question:l,choices:d,answerIndices:i})),u([]),r(de(t))},buttonText:"submit answer"})]})};var We=function(e){var t=e.points,n=e.cardCount;return Object(y.jsxs)(pe.a,{sx:Be(),children:[Object(y.jsx)(ze,{title:"username"}),Object(y.jsx)(me.a,{}),Object(y.jsx)(ge.a,{sx:Ue(),children:Object(y.jsxs)(l.a,{variant:"h5",component:"h5",align:"center",children:["You answered ",t," of ",n," cards correct!"]})})]})};var Re=function(e){var t=q(oe),n=q(ue),a=q(je),r=t.filter((function(e){return-1===n.indexOf(e)})),c=r[Math.floor(Math.random()*r.length)];return Object(y.jsx)(Oe.a,{item:!0,children:c?Object(y.jsx)(Le,{card:c,mode:$.QUIZ}):Object(y.jsx)(We,{points:a,cardCount:t.length})})},Fe=Object(A.c)({name:"newCard",initialState:{question:""},reducers:{changeQuestionText:function(e,t){e.question=t.payload}}}),Ze=Fe.actions.changeQuestionText,Pe=Fe.reducer,Me=n(227),He=n(116),Je=Object(Se.a)({palette:{primary:{main:"#fca311"},secondary:{main:"#000000"},background:{default:"#14213d",paper:"#e5e5e5"}}}),De=function(){return Object(Se.a)({palette:{primary:{main:"#000"}}})},Ge=Je;var Ke=function(e){var t=e.text,n=e.handleTextChange,a=e.disableButton,r=e.handleButtonClick,c=e.textFieldName,s=e.textFieldLabel;return Object(y.jsxs)(Me.a,{children:[Object(y.jsx)(ve.a,{theme:De(),children:Object(y.jsx)(He.a,{value:t,name:c,label:s,onChange:n,variant:"filled"})}),Object(y.jsx)(v.a,{disabled:a,onClick:r,variant:"contained",children:"Ok"})]})};var Ye=function(e){var t=E(),n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)([]),u=Object(o.a)(i,2),j=u[0],l=u[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),x=b[0],h=b[1],O=Object(a.useState)([]),f=Object(o.a)(O,2),p=f[0],m=f[1],g=Object(a.useState)(V.QUESTION),v=Object(o.a)(g,2),w=v[0],C=v[1],T=q(K),S=function(e){var t=e.target;"question"===t.name&&s(t.value),"choiceText"===t.name&&h(t.value)};return Object(y.jsxs)(pe.a,{sx:Be(),children:[Object(y.jsx)(ze,{title:c,clickHandler:function(){return C(V.QUESTION)}}),Object(y.jsx)(me.a,{}),Object(y.jsxs)(ge.a,{sx:Ue(w),children:[w===V.QUESTION&&Object(y.jsx)(Ke,{text:c,handleTextChange:S,disableButton:!c.length,handleButtonClick:function(){C(w===V.QUESTION?V.ANSWER:V.SELECT)},textFieldName:"question",textFieldLabel:"write your question here"}),w===V.ANSWER&&j.length<4&&Object(y.jsx)(Ke,{text:x,handleTextChange:S,disableButton:!x.length,handleButtonClick:function(){l([].concat(Object(_.a)(j),[x])),h("")},textFieldName:"choiceText",textFieldLabel:"write possible answer here"}),Object(y.jsx)(ke,{choices:j,mode:$.QUIZ,selectAnswer:function(e){return m([+e.target.value])},selected:p})]}),Object(y.jsx)(Ae,{disableButton:j.length<2||!p.length||!c,onButtonClick:function(){(function(e,t){return B()({method:"post",url:"".concat(ee,"/new"),data:e,headers:{"Content-Type":"application/json",Authorization:ae(t)}}).then((function(e){return e})).catch((function(e){return e}))})({question:c,choices:j,answerIndices:p},T).then((function(){t(ce()),t(Ze("")),s(""),l([]),h(""),m([]),C(V.QUESTION)}))},buttonText:"save card"})]})};var $e=function(e){var t=q(oe).map((function(e){return Object(y.jsx)(Oe.a,{item:!0,children:Object(y.jsx)(Le,{card:e,mode:$.ALL})},e.id)}));return Object(y.jsx)(Oe.a,{container:!0,spacing:2,sx:{justifyContent:{md:"space-between",xs:"space-around"}},children:t})},Ve=n(3);var Xe=function(e){var t=q(G),n=E(),r=Object(m.f)(),c=Object(a.useState)({username:"",password:""}),s=Object(o.a)(c,2),u=s[0],j=s[1],l=function(e){j(Object(i.a)(Object(i.a)({},u),{},Object(Ve.a)({},e.target.name,e.target.value)))};return t?Object(y.jsx)(m.a,{to:"/quiz"}):Object(y.jsxs)(pe.a,{sx:Be(),children:[Object(y.jsx)(Ee.a,{title:"Login to your account",align:"center"}),Object(y.jsx)(me.a,{}),Object(y.jsx)(ge.a,{sx:Ue("QUESTION"),children:Object(y.jsx)(Me.a,{children:Object(y.jsxs)(ve.a,{theme:De(),children:[Object(y.jsx)(He.a,{onChange:l,sx:{my:1},required:!0,name:"username",label:"username",type:"username"}),Object(y.jsx)(He.a,{onChange:l,sx:{my:1},required:!0,name:"password",type:"password"}),Object(y.jsx)(v.a,{type:"submit",onClick:function(){u&&n(H(u))},children:"Login"})]})})}),Object(y.jsx)(Ae,{disableButton:!1,footerText:"The first time here? ",buttonText:"sign up",onButtonClick:function(){return r.push("/signup")}})]})};var _e=function(e){return q(G)?Object(y.jsx)(m.a,{to:"/quiz"}):Object(y.jsxs)(pe.a,{sx:Be(!0),children:[Object(y.jsx)(Ee.a,{title:"Sing up for free to play Codificantes",align:"center"}),Object(y.jsx)(me.a,{}),Object(y.jsx)(ge.a,{sx:Ue("QUESTION"),children:Object(y.jsx)(Me.a,{children:Object(y.jsxs)(ve.a,{theme:De(),children:[Object(y.jsx)(He.a,{sx:{my:1},required:!0,label:"username",type:"email"}),Object(y.jsx)(He.a,{sx:{my:1},required:!0,label:"email address",type:"email"}),Object(y.jsx)(He.a,{sx:{my:1},required:!0,label:"Password",type:"password"}),Object(y.jsx)(He.a,{sx:{my:1},required:!0,label:"confirm password",type:"password"}),Object(y.jsx)(v.a,{type:"submit",children:"Sign up"})]})})})]})},et=n(148),tt=[{field:"col1",headerName:"Username",width:300},{field:"col2",headerName:"Points",width:200},{field:"col3",headerName:"Date",width:200}];var nt=function(e){var t=e.highscores,n=t?t.map((function(e){var t=e.id,n=e.username,a=e.date;return{id:t,col1:n,col2:e.score,col3:a}})):[];return Object(y.jsx)("div",{style:{height:500,maxHeight:"100%",width:700,maxWidth:"100%"},children:Object(y.jsx)(et.a,{rows:n,columns:tt})})};var at=function(e){var t=e.route,n=e.component,a=q(G);return Object(y.jsx)(m.b,{path:t,component:a?n:Xe})},rt=n(290);var ct=function(e){var t=q(L),n=q(W),a=E();return Object(y.jsx)(rt.a,{open:t,sx:{bgcolor:"transparent"},PaperProps:{sx:{bgcolor:"transparent"}},children:Object(y.jsx)(ve.a,{theme:Object(Se.a)({palette:{primary:{main:"#ff0000"}}}),children:Object(y.jsxs)(pe.a,{sx:Be(),children:[Object(y.jsx)(Ee.a,{title:"Error!!1!",align:"center"}),Object(y.jsx)(me.a,{}),Object(y.jsx)(ge.a,{sx:Object(i.a)(Object(i.a)({},Ue()),{},{bottom:120,textAlign:"center"}),children:Object(y.jsx)(l.a,{variant:"h2",children:n})}),Object(y.jsx)(Ae,{disableButton:!1,footerText:"Something went wrong ",buttonText:"OK",onButtonClick:function(){a(F())}})]})})})};var st=function(e){return Object(y.jsxs)(pe.a,{sx:Be(),children:[Object(y.jsx)(Ee.a,{title:"Sing up for free to play Codificantes",align:"center"}),Object(y.jsx)(me.a,{}),Object(y.jsx)(ge.a,{sx:Object(i.a)(Object(i.a)({},Ue()),{},{bottom:120,textAlign:"center"}),children:Object(y.jsx)(l.a,{variant:"h2",children:"Goodbye!"})})]})};var it=function(e){var t=e.quizname;return Object(y.jsx)(pe.a,{sx:Be(),children:Object(y.jsx)(ge.a,{sx:Object(i.a)(Object(i.a)({},Ue()),{},{bottom:150,textAlign:"center"}),children:Object(y.jsx)(l.a,{variant:"h4",children:t})})})};var ot=function(e){e.cards;var t=e.quizname;return Object(y.jsx)(it,{quizname:t})};var ut=function(e){return Object(y.jsx)(he.a,{sx:{pt:15},maxWidth:!1,children:Object(y.jsxs)(Oe.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object(y.jsx)(m.b,{path:"/logout",component:st}),Object(y.jsx)(m.b,{path:"/login",component:Xe}),Object(y.jsx)(m.b,{path:"/signup",component:_e}),Object(y.jsx)(at,{route:"/quiz",component:Re}),Object(y.jsx)(at,{route:"/new",component:Ye}),Object(y.jsx)(at,{route:"/all",component:$e}),Object(y.jsx)(at,{route:"/highscore",component:nt}),Object(y.jsx)(at,{route:"/",component:ot}),Object(y.jsx)(ct,{})]})})};var jt=function(){var e=q(K),t=E();return e.length&&t(ce()),Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)(xe.a,{}),Object(y.jsx)(X,{}),Object(y.jsx)(j.a,{}),Object(y.jsx)(ut,{})]})},lt=Object(A.a)({reducer:{quiz:be,newCard:Pe,login:Y,error:P}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dt=n(150);s.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(dt.a,{children:Object(y.jsx)(ve.a,{theme:Ge,children:Object(y.jsx)(k.a,{store:lt,children:Object(y.jsx)(jt,{})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[212,1,2]]]);
//# sourceMappingURL=main.897eb37a.chunk.js.map